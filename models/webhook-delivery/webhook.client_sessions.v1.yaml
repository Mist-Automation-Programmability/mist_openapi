description: client session webhook
type: object
x-examples:
  example-1:
    topic: client-sessions
    events:
      - ap: 5c5b352f587e
        ap_name: AP41 Test
        band: '5'
        bssid: 5c5b352b51b4
        client_family: iPhone
        client_manufacture: Apple
        client_model: 8+
        client_os: 13.4.1
        connect: 1592333548
        connect_float: 1592333548.117
        disconnect: 1592333828
        disconnect_float: 1592333828.589
        duration: 279.835049793
        mac: 70ef0071535f
        next_ap: 5c5b35d01338
        org_id: 6748cfa6-4e12-11e6-9188-0242ac110007
        rssi: -87
        site_id: d761985e-49b1-4506-88e9-e0368a05c301
        site_name: Test
        ssid: Maui
        termination_reason: 3
        timestamp: 1592333828
        version: 2
        wlan_id: 6c0c0b07-0d77-44d1-9ab2-610aee9ce711
properties:
  topic:
    type: string
    minLength: 1
  events:
    type: array
    uniqueItems: true
    minItems: 1
    items:
      type: object
      properties:
        ap:
          type: string
          minLength: 1
          description: mac address of the AP the client roamed or disconnected from
        ap_name:
          type: string
          minLength: 1
          description: user-friendly name of the AP the client roamed or disconnected from.
        band:
          type: string
          minLength: 1
          description: 5GHz or 2.4GHz band
        bssid:
          type: string
          minLength: 1
        client_family:
          type: string
          minLength: 1
          description: 'device family E.g. “Mac”, “iPhone”, “Apple watch”'
        client_manufacture:
          type: string
          minLength: 1
          description: device manufacturer E.g. “Apple”
        client_model:
          type: string
          minLength: 1
          description: 'device model E.g. “8+”, “XS”'
        client_os:
          type: string
          minLength: 1
          description: 'device operating system E.g. “Mojave”, “Windows 10”, “Linux”'
        connect:
          type: integer
          description: time when the user connects
        connect_float:
          type: number
          description: floating point connect timestamp with millisecond precision
        disconnect:
          type: integer
          description: time when the user disconnects
        disconnect_float:
          type: number
          description: floating point disconnect timestamp with millisecond precision
        duration:
          type: integer
          description: the duration of the roamed or complete session indicated by termination_reason field.
        mac:
          type: string
          minLength: 1
          description: the client’s mac
        next_ap:
          type: string
          minLength: 1
          description: the AP the client has roamed to.
        org_id:
          type: string
          minLength: 1
        rssi:
          type: number
          description: latest average RSSI before the user disconnects
        site_id:
          type: string
          minLength: 1
        site_name:
          type: string
          minLength: 1
        ssid:
          type: string
          minLength: 1
        termination_reason:
          type: number
          description: 1 disassociate - when the client disassociates. 2 inactive - when the client is timeout. 3 roamed - when the client is roamed between APs
        timestamp:
          type: number
        version:
          type: number
          description: schema version of this message
        wlan_id:
          type: string
          minLength: 1
      required:
        - ap
        - ap_name
        - band
        - bssid
        - client_family
        - client_manufacture
        - client_model
        - client_os
        - connect
        - connect_float
        - disconnect
        - disconnect_float
        - duration
        - mac
        - next_ap
        - org_id
        - rssi
        - site_id
        - site_name
        - ssid
        - termination_reason
        - timestamp
        - version
        - wlan_id
required:
  - topic
  - events
