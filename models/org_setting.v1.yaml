description: org settings request body
type: object
x-examples:
  example-1:
    password_policy:
      enabled: true
      freshness: 60
      min_length: 8
      requires_special_char: false
      requires_two_factor_auth: true
    ui_idle_timeout: 10
    mgmt:
      use_wxtunnel: false
      use_mxtunnel: true
      mxtunnel_ids:
        - 08cd7499-5841-51c8-e663-fb16b6f3b45e
    disable_pcap: false
    pcap:
      bucket: myorg-pcap
      max_pkt_len: 128
    pcap_bucket_verified: true
    security:
      disable_local_ssh: false
      limit_ssh_access: false
      fips_zeroize_password: NUKETHESITE
    installer:
      grace_period: 14
      extra_site_ids:
        - 4ac1dcf4-9d8b-7211-65c4-057819f0862b
        - 52f4347e-3e4b-186c-21ca-ad5b70eb23d6
      allow_all_sites: false
    remote_syslog:
      enabled: true
      send_to_all_servers: true
      servers:
        - host: syslogd.internal
          port: 514
          protocol: udp
          facility: config
          severity: info
          tag: ''
    auto_site_assignment:
      enable: true
      rules:
        - src: model
          model: AP41
          value: s1351
    auto_device_naming:
      enable: true
      rules:
        - {}
    cloudshark:
      apitoken: accbd6f10c6d05c3
      url: 'https://cloudshark.hosted.domain'
    auto_deviceprofile_assignment:
      enable: true
      rules: []
    cacerts:
      - |-
        -----BEGIN CERTIFICATE-----
        MIIFZjCCA06gAwIBAgIIP61/1qm/uDowDQYJKoZIhvcNAQELBQE
        -----END CERTIFICATE-----
      - |-
        -----BEGIN CERTIFICATE-----
        BhMCRVMxFDASBgNVBAoMC1N0YXJ0Q29tIENBMSwwKgYDVn-----END CERTIFICATE-----
    device_cert:
      cert: |-
        -----BEGIN CERTIFICATE-----
        MIIFZjCCA06gAwIBAgIIP61/1qm/uDowDQYJKoZIhvcNAQELBQE
        -----END CERTIFICATE-----
      key: '-----BEGIN PRI...'
    tags:
      - beta
properties:
  name:
    type: string
    description: org name
  password_policy:
    type: object
    description: password policy
    properties:
      enabled:
        type: boolean
        description: 'whether the policy is enabled, default is false'
      freshness:
        type: integer
        description: 'days, required if password policy is enabled'
      min_length:
        type: integer
        description: 'required password length, default is 8'
        default: 8
      requires_special_char:
        type: boolean
        description: 'whether to require special character, default is false'
      requires_two_factor_auth:
        type: boolean
        description: 'whether to require two-factor auth, default is false'
  ui_idle_timeout:
    type: integer
    description: 'automatically logout the user when UI session is inactive, 0-480 in minutes, default is 0 (disabled)'
    default: 0
    minimum: 0
    maximum: 480
  mgmt:
    type: object
    description: management-related properties
    properties:
      use_wxtunnel:
        type: boolean
        description: 'whether to use wxtunnel for mgmt connectivity, default is false'
      use_mxtunnel:
        type: boolean
        description: 'whether to use Mist Tunnel for mgmt connectivity, default is false, this takes precedence over use_wxtunnel'
      mxtunnel_ids:
        type: array
        description: list of Mist Tunnels
        items:
          type: string
  disable_pcap:
    type: boolean
    description: 'whether to disallow Mist to analyze pcap files (this is required for marvis pcap), default is false'
  pcap:
    type: object
    properties:
      bucket:
        type: string
        minLength: 1
      max_pkt_len:
        type: integer
        description: 'max_len of non-management packets to capture, default is 128, maximum is 128'
  pcap_bucket_verified:
    type: boolean
  security:
    type: object
    properties:
      disable_local_ssh:
        type: boolean
        description: 'whether to disable local SSH (by default, local SSH is enabled with allow_mist in Org is enabled'
      limit_ssh_access:
        type: boolean
        description: 'whether to allow certain SSH keys to SSH into the AP (see Site:Setting), default is false'
      fips_zeroize_password:
        type: string
        minLength: 1
        description: password required to zeroize devices (FIPS) on site level
  installer:
    type: object
    properties:
      grace_period:
        type: number
      extra_site_ids:
        type: array
        items:
          type: string
      allow_all_sites:
        type: boolean
  remote_syslog:
    $ref: ./server_objects/remote_syslog.v1.yaml
  auto_site_assignment:
    type: object
    properties:
      enable:
        type: boolean
      rules:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          $ref: ./org_objects/org.auto_rules.v1.yaml
  auto_device_naming:
    type: object
    properties:
      enable:
        type: boolean
      rules:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          $ref: ./org_objects/org.auto_rules.v1.yaml
  cloudshark:
    type: object
    properties:
      apitoken:
        type: string
        minLength: 1
      url:
        type: string
        minLength: 1
  auto_deviceprofile_assignment:
    type: object
    properties:
      enable:
        type: boolean
      rules:
        type: array
        items:
          type: object
  cacerts:
    type: array
    description: list of PEM-encoded ca certs
    items:
      type: string
  device_cert:
    type: object
    description: 'common device cert, optional'
    properties:
      cert:
        type: string
        minLength: 1
      key:
        type: string
        minLength: 1
  tags:
    type: array
    description: list of tags
    items:
      type: string
  device_updown_threshold:
    type: integer
    description: 'enable threshold-based device down delivery via 1) device-updowns webhooks topic, 2) Mist Alert Framework; e.g. send AP/SW/GW down event only if AP/SW/GW Up is not seen within the threshold in minutes; 0 - 30, default is 0 (trigger immediate)'
    default: 0
    minimum: 0
    maximum: 30
required:
  - name
