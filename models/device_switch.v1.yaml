description: ''
type: object
properties:
  name:
    type: string
    minLength: 1
  role:
    type: string
    minLength: 1
    description: |
      access / aggregation, default is access
  notes:
    type: string
    minLength: 1
  ip_config:
    $ref: ./device_switch_objects/switch.ip.v1.yaml
  oob_ip_config:
    $ref: ./device_switch_objects/switch.ip.v1.yaml
  other_ip_configs:
    anyOf:
      - $ref: ./device_switch_objects/ip_l3.v1.yaml
  ntp_servers:
    type: array
    description: |
      list of NTP servers specific to this device. By default, those in Site Settings will be used
    items:
      type: object
  port_config:
    type: object
    required:
      - ge-0/0/0
      - ge-0/0/1
      - 'ge-0/0/8-16,ge-1/0/0-47'
      - '*'
    properties:
      ge-0/0/0:
        type: object
        required:
          - usage
          - aggregated
          - description
        properties:
          usage:
            type: string
            minLength: 1
          aggregated:
            type: boolean
          description:
            type: string
            minLength: 1
      ge-0/0/1:
        type: object
        required:
          - usage
          - dynamic_usage
        properties:
          usage:
            type: string
            minLength: 1
          dynamic_usage:
            type: string
            minLength: 1
      'ge-0/0/8-16,ge-1/0/0-47':
        type: object
        required:
          - usage
        properties:
          usage:
            type: string
            minLength: 1
      '*':
        type: object
        required:
          - usage
        properties:
          usage:
            type: string
            minLength: 1
  radius_config:
    type: object
    required:
      - auth_servers_timeout
      - auth_servers_retries
      - auth_servers
      - acct_servers
      - acct_interim_interval
    properties:
      auth_servers_timeout:
        type: number
      auth_servers_retries:
        type: number
      auth_servers:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            host:
              type: string
              minLength: 1
            port:
              type: number
            secret:
              type: string
              minLength: 1
          required:
            - host
            - port
            - secret
      acct_servers:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            host:
              type: string
              minLength: 1
            port:
              type: number
            secret:
              type: string
              minLength: 1
          required:
            - host
            - port
            - secret
      acct_interim_interval:
        type: number
  port_usages:
    type: object
  networks:
    type: object
  managed:
    type: boolean
  disable_auto_config:
    type: boolean
  additional_config_cmds:
    type: array
    items:
      type: object
  vars:
    type: object
    required:
      - RADIUS_SECRET
      - RADIUS_IP1
    properties:
      RADIUS_SECRET:
        type: string
        minLength: 1
      RADIUS_IP1:
        type: string
        minLength: 1
  deviceprofile_id:
    type: string
    minLength: 1
  image1_url:
    type: string
    minLength: 1
required:
  - ip_config
  - oob_ip_config
  - other_ip_configs
  - port_config
  - radius_config
  - port_usages
  - networks
  - managed
  - disable_auto_config
  - additional_config_cmds
  - vars
  - deviceprofile_id
  - image1_url
