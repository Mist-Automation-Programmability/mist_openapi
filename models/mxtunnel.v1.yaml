description: MxTunnel
type: object
x-examples:
  example-1:
    enabled: false
    vlan_ids:
      - 3
      - 5
      - 6
    ap_subnets: 0.0.0.0/0
    protocol: udp
    mtu: 1100
    clusters:
      - name: primary
        tunterm_hosts:
          - mxedge1
          - mxedge2.local
    hello_interval: 60
    hello_retries: 3
    radsec:
      enabled: true
      auth_servers:
        - host: 1.2.3.4
          port: 1812
          secret: testing123
        - host: radius.internal
          port: 1812
          secret: testing123
      acct_servers:
        - host: 1.2.3.4
          port: 1812
          secret: testing123
      use_mxedge: true
properties:
  enabled:
    type: boolean
  vlan_ids:
    type: array
    description: list of vlan_ids that will be used
    items:
      type: integer
  ap_subnets:
    type: array
    description: list of subnets where we allow AP to establish Mist Tunnels from
    items:
      type: string
  protocol:
    type: string
    minLength: 1
    description: 'udp / ip, default is udp'
    enum:
      - udp
      - ip
  mtu:
    type: integer
  clusters:
    type: array
    items:
      type: object
      properties:
        name:
          type: string
          minLength: 1
        tunterm_hosts:
          type: array
          items:
            type: string
  hello_interval:
    type: number
    description: 'in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds'
    default: 60
    minimum: 1
    maximum: 300
  hello_retries:
    type: integer
    description: 'between 2 and 30, default is 7'
    minimum: 2
    maximum: 30
    default: 7
  radsec:
    type: object
    properties:
      enabled:
        type: boolean
      auth_servers:
        type: array
        items:
          $ref: ./server_objects/auth_server.v1.yaml
      acct_servers:
        type: array
        items:
          $ref: ./server_objects/acct_server.v1.yaml
      use_mxedge:
        type: boolean
  hosts:
    type: array
    description: hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they are reachable from AP)
    items:
      type: string
title: ''
