description: ''
type: object
x-examples:
  example-1:
    name: HQ
    protocol: udp
    vlan_ids:
      - 3
      - 4
      - 5
    mxcluster_ids:
      - 572586b7-f97b-a22b-526c-8b97a3f609c4
    hello_interval: 60
    hello_retries: 3
    ipsec:
      enabled: true
      split_tunnel: true
      dns_servers:
        - 172.16.0.8
      extra_routes:
        - dest: 172.16.0.0/12
          next_hop: 172.16.0.1
properties:
  name:
    type: string
    minLength: 1
    description: the name of the tunnel
  protocol:
    type: string
    minLength: 1
    description: 'udp / ip, default is udp'
    default: udp
    enum:
      - udp
      - ip
  vlan_ids:
    type: array
    description: list of vlan_ids that will be used
    items:
      type: string
  mxcluster_ids:
    type: array
    description: list of mxclusters to deploy this tunnel to
    items:
      type: string
  hello_interval:
    type: number
    description: 'in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300, default is 60 seconds'
    default: 60
    minimum: 1
    maximum: 300
  hello_retries:
    type: integer
    description: 'between 2 and 30, default is 7'
    default: 7
  ipsec:
    type: object
    properties:
      enabled:
        type: boolean
      split_tunnel:
        type: boolean
      dns_servers:
        type: array
        items:
          type: string
      extra_routes:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            dest:
              type: string
              minLength: 1
            next_hop:
              type: string
              minLength: 1
required:
  - name
  - vlan_ids
