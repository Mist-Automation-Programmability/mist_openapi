description: Gateway Template is applied to a site for gateway(s) in a site.
type: object
x-examples:
  example-1:
    name: xxx
    networks: {}
    port_usage:
      wan:
        mode: wan
      lte:
        mode: wan
      lan:
        mode: trunk
        all_networks: false
        networks:
          - guest
          - employee
          - finance
        port_network: null
    port_config:
      ge-0/0/0:
        usage: wan
      ge-0/0/1-5:
        usage: lan
      ge-0/0/6:
        usage: inet
    ip_configs:
      guest: {}
    dhcpd_config:
      enabled: true
      guest:
        type: relay
        ip_start: 192.168.70.100
        ip_end: 192.168.70.200
        gateway: 192.168.70.1
        dns_servers:
          - 8.8.8.8
          - 4.4.4.4
        dns_suffix:
          - .mist.local
          - .mist.com
        fixed_bindings:
          5684dae9ac8b:
            name: John
            ip: 192.168.70.35
        servers:
          - 11.2.3.4
    gateway_matching:
      enable: true
properties:
  id:
    type: string
    minLength: 1
    readOnly: true
  org_id:
    type: string
    minLength: 1
    readOnly: true
  created_time:
    type: integer
    readOnly: true
  modified_time:
    type: integer
    readOnly: true
  name:
    type: string
    minLength: 1
  networks:
    type: object
    additionalProperties:
      $ref: ./network.v1.yaml
  port_usage:
    type: object
    additionalProperties:
      $ref: ./junos_objects/junos_port_usages.v1.yaml
  port_config:
    type: object
    additionalProperties:
      $ref: ./junos_objects/junos_port_config.v1.yaml
  ip_configs:
    type: object
    additionalProperties:
      type: object
  dhcpd_config:
    type: object
    properties:
      enabled:
        type: boolean
    additionalProperties:
      type: object
      properties:
        type:
          type: string
          minLength: 1
          enum:
            - local
            - relay
          default: local
        ip_start:
          type: string
          minLength: 1
          format: ipv4
        ip_end:
          type: string
          minLength: 1
          format: ipv4
        gateway:
          type: string
          minLength: 1
          format: ipv4
        dns_servers:
          type: array
          items:
            type: string
            format: ipv4
        dns_suffix:
          type: array
          items:
            type: string
        fixed_bindings:
          type: object
          additionalProperies:
            type: object
            required:
              - ip
            properties:
              name:
                type: string
                minLength: 1
              ip:
                type: string
                minLength: 1
                format: ipv4
        servers:
          type: array
          items:
            type: string
            format: ipv4
  gateway_matching:
    $ref: ./template_switch/template_switch.matching.v1.yaml
required:
  - name
