description: ''
type: object
properties:
  name:
    type: string
    minLength: 1
    description: the name of the tunnel
  protocol:
    type: string
    minLength: 1
    description: udp / ip
    enum:
      - udp
      - ip
  vlan_ids:
    type: array
    description: list of vlan_ids that will be used
    items:
      type: string
  mxcluster_ids:
    type: array
    description: list of mxclusters to deploy this tunnel to
    items:
      type: string
  hello_interval:
    type: number
    description: 'in seconds, used as heartbeat to detect if a tunnel is alive. AP will try another peer after missing N hellos specified by hello_retries. between 1 and 300'
  hello_retries:
    type: integer
    description: between 2 and 30
  ipsec:
    type: object
    properties:
      enabled:
        type: boolean
      split_tunnel:
        type: boolean
      dns_servers:
        type: array
        items:
          type: object
      extra_routes:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            dest:
              type: string
              minLength: 1
            next_hop:
              type: string
              minLength: 1
  id:
    type: string
    minLength: 1
  org_id:
    type: string
    minLength: 1
  created_time:
    type: number
  modified_time:
    type: number
required:
  - name
  - protocol
  - vlan_ids
  - mxcluster_ids
  - hello_interval
  - hello_retries
  - org_id
  - created_time
  - modified_time
x-examples:
  example-1:
    name: string
    protocol: udp
    vlan_ids:
      - string
    mxcluster_ids:
      - string
    hello_interval: 0
    hello_retries: 0
    ipsec:
      enabled: true
      split_tunnel: true
      dns_servers:
        - {}
      extra_routes:
        - dest: string
          next_hop: string
    id: string
    org_id: string
    created_time: 0
    modified_time: 0
