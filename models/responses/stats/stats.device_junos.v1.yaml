description: ''
type: object
x-examples:
  example-1:
    mac: dc38e1dbf3cd
    model: EX4600
    type: switch
    serial: TC3714190003
    last_seen: 1553203563
    name: xg50b
    hostname: sj-sw1
    status: connected
    version: 18.4R1.8
    ip: 10.2.11.137
    uptime: 13500
    ip_stat:
      ip: 10.2.11.137
      netmask: 255.255.192.0
      gateway: 10.2.1.1
      ip6: '2607:f8b0:4005:808::2004'
      netmask6: /32
      gateway6: '2607:f8b0:4005:808::1'
      dns:
        - 8.8.8.8
        - 4.4.4.4
      dns_suffix:
        - .mist.local
        - .mist.com
      ips:
        vlan1: '10.2.1.1/24,2607:f8b0:4005:808::1/32'
        vlan193: 10.73.1.31/16
        vlan3157: 10.72.11.14/24
    cpu_stat:
      interrupt: 8
      idle: 28
      user: 23
      system: 41
      load_avg:
        - 0.9700000286102295
        - 1.0499999523162842
        - 1.0199999809265137
    memory_stat:
      usage: 35
    spu_stat:
      cpu: 15
      memory: 32
      sessions:
        current: 41
        valid: 15
        pending: 12
        max: 65535
    module_stat:
      - vc_role: master
        model: EX4300-48P
        serial: PX8716230021
        fans:
          - name: Fan 0
            status: absent
          - name: Fan 1
            airflow: out
            status: ok
        temperatures:
          - name: CPU
            status: ok
            celsius: 45
        psus:
          - name: Power Supply 0
            status: ok
          - name: Power Supply 1
            status: failed
        poe:
          max_power: 250
          power_draw: 120.3
        vc_links:
          - port_id: vcp-255/1/0
            neighbor_module_idx: 1
            neighbor_port_id: vcp-255/1/0
properties:
  mac:
    type: string
    minLength: 1
    description: |
      device mac
  model:
    type: string
    minLength: 1
    description: |
      device model
  type:
    type: string
    minLength: 1
    description: |
      device type, switch / gateway
  serial:
    type: string
    minLength: 1
    description: |
      serial
  last_seen:
    type: number
    description: |
      last seen timestamp
  name:
    type: string
    minLength: 1
  hostname:
    type: string
    minLength: 1
  status:
    type: string
    minLength: 1
    description: |
      connected / disconnected / restarting / upgrading
  version:
    type: string
    minLength: 1
    description: |
      firmware version
  ip:
    type: string
    minLength: 1
    description: |
      IP address
  uptime:
    type: number
    description: |
      how long, in seconds, has the device been up (or rebooted)
  ip_stat:
    type: object
    required:
      - ip
      - netmask
      - gateway
      - ip6
      - netmask6
      - gateway6
      - dns
      - dns_suffix
      - ips
    properties:
      ip:
        type: string
        minLength: 1
      netmask:
        type: string
        minLength: 1
      gateway:
        type: string
        minLength: 1
      ip6:
        type: string
        minLength: 1
      netmask6:
        type: string
        minLength: 1
      gateway6:
        type: string
        minLength: 1
      dns:
        type: array
        items:
          type: string
      dns_suffix:
        type: array
        items:
          type: string
      ips:
        type: object
        required:
          - vlan1
          - vlan193
          - vlan3157
        properties:
          vlan1:
            type: string
            minLength: 1
          vlan193:
            type: string
            minLength: 1
          vlan3157:
            type: string
            minLength: 1
  cpu_stat:
    type: object
    required:
      - interrupt
      - idle
      - user
      - system
      - load_avg
    properties:
      interrupt:
        type: number
      idle:
        type: number
      user:
        type: number
      system:
        type: number
      load_avg:
        type: array
        items:
          type: number
  memory_stat:
    type: object
    required:
      - usage
    properties:
      usage:
        type: number
  spu_stat:
    type: object
    required:
      - cpu
      - memory
      - sessions
    properties:
      cpu:
        type: number
      memory:
        type: number
      sessions:
        type: object
        required:
          - current
          - valid
          - pending
          - max
        properties:
          current:
            type: number
          valid:
            type: number
          pending:
            type: number
          max:
            type: number
  module_stat:
    type: array
    uniqueItems: true
    minItems: 1
    items:
      type: object
      properties:
        vc_role:
          type: string
          minLength: 1
        model:
          type: string
          minLength: 1
        serial:
          type: string
          minLength: 1
        fans:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              name:
                type: string
                minLength: 1
              airflow:
                type: string
                minLength: 1
              status:
                type: string
                minLength: 1
            required:
              - name
              - airflow
              - status
        temperatures:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              name:
                type: string
                minLength: 1
              status:
                type: string
                minLength: 1
              celsius:
                type: number
            required:
              - name
              - status
              - celsius
        psus:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              name:
                type: string
                minLength: 1
              status:
                type: string
                minLength: 1
            required:
              - name
              - status
        poe:
          type: object
          properties:
            max_power:
              type: number
            power_draw:
              type: number
          required:
            - max_power
            - power_draw
        vc_links:
          type: array
          uniqueItems: true
          minItems: 1
          items:
            type: object
            properties:
              port_id:
                type: string
                minLength: 1
              neighbor_module_idx:
                type: number
              neighbor_port_id:
                type: string
                minLength: 1
            required:
              - port_id
              - neighbor_module_idx
              - neighbor_port_id
      required:
        - vc_role
        - model
        - serial
required:
  - mac
  - model
  - type
  - serial
  - last_seen
  - name
  - hostname
  - status
  - version
  - ip
  - uptime
  - ip_stat
  - cpu_stat
  - memory_stat
  - spu_stat
  - module_stat
