description: SSO
properties:
  created_time:
    readOnly: true
    type: number
  custom_logout_url:
    description: optional, a URL we will redirect the user after user logout from
      Mist (for some IdP which supports a custom logout URL that is different from
      SP-initiated SLO process)
    type: string
  default_role:
    description: "default role to assign if there\u2019s no match. By default, an\
      \ assertion is treated as invalid when there\u2019s no role matched"
    type: string
  domain:
    type: string
  id:
    format: uuid
    readOnly: true
    type: string
  idp_cert:
    description: if `idp_type`==`saml`. IDP Cert (used to verify the signed response)
    type: string
  idp_sign_algo:
    description: if `idp_type`==`saml`. Signing algorithm for SAML Assertion
    type: string
  idp_sso_url:
    description: IDP Single-Sign-On URL
    type: string
  idp_type:
    $ref: '../schemas/sso_idp_type.yml'
  ignore_unmatched_roles:
    description: ignore any unmatched roles provided in assertion. By default, an
      assertion is treated as invalid for any unmatched role
    type: boolean
  issuer:
    description: if `idp_type`==`saml`. IDP issuer URL
    type: string
  ldap_base_dn:
    description: if `idp_type`==`ldap`
    type: string
  ldap_bind_dn:
    description: if `idp_type`==`ldap`
    type: string
  ldap_bind_password:
    description: if `idp_type`==`ldap`
    type: string
  ldap_certs:
    $ref: '../schemas/sso_ldap_certs.yml'
  ldap_client_cert:
    description: if `idp_type`==`ldap`
    type: string
  ldap_client_key:
    description: if `idp_type`==`ldap`
    type: string
  ldap_group_attr:
    description: Only if `ldap_type`==`custom`
    type: string
  ldap_group_dn:
    description: Only if `ldap_type`==`custom`
    type: string
  ldap_group_filter:
    description: Only if `ldap_type`==`custom`
    type: string
  ldap_resolve_groups:
    default: false
    description: whether to recursively resolve LDAP groups
    type: boolean
  ldap_server_hosts:
    $ref: '../schemas/sso_ldap_server_hosts.yml'
  ldap_type:
    $ref: '../schemas/sso_ldap_type.yml'
  ldap_user_filter:
    description: Only if `ldap_type`==`custom`
    type: string
  modified_time:
    readOnly: true
    type: number
  msp_id:
    format: uuid
    readOnly: true
    type: string
  mxedge_proxy:
    $ref: '../schemas/sso_mxedge_proxy.yml'
  name:
    description: name
    type: string
  nameid_format:
    $ref: '../schemas/sso_nameid_format.yml'
  oauth_cc_client_id:
    description: if `oauth_type`==`okta`, Client Credentials
    example: e60da615-7def-4c5a-8196-43675f45e174
    type: string
  oauth_cc_client_secret:
    description: if `oauth_type`==`okta`, oauth_cc_client_secret is RSA private key,
      of the form "-----BEGIN RSA PRIVATE KEY--...."
    example: akL8Q~5kWFMVFYl4TFZ3fi~7cMdyDONi6cj01cpH
    type: string
  oauth_discovery_url:
    description: if `idp_type`==`oauth`
    type: string
  oauth_ropc_client_id:
    description: ropc = Resource Owner Password Credentials
    example: 9ce04c97-b5b1-4ec8-af17-f5ed42d2daf7
    type: string
  oauth_ropc_client_secret:
    description: oauth_ropc_client_secret can be empty if oauth_type is azure or azure-gov
    example: blM9R~6kWFMVFYl4TFZ3fi~8cMdyDONi6cj01dqI
    type: string
  oauth_tenant_id:
    description: if `oauth_type`==`okta`, oauth_tenant_id
    example: dev-88336535
    type: string
  oauth_type:
    $ref: '../schemas/sso_oauth_type.yml'
  org_id:
    $ref: '../schemas/org_id.yml'
  role_attr_extraction:
    description: "optional, custom role attribute parsing scheme\n\nSupported Role\
      \ Parsing Schemes\n<table><tr><th>Name</th><th>Scheme</th></tr><tr><td>cn</td><td><ul><li>The\
      \ expected role attribute format in SAML Assertion is \u201CCN=cn,OU=ou1,OU=ou2,\u2026\
      \u201D</li><li>CN (the key) is case insensitive and exactly 1 CN is expected\
      \ (or the entire entry will be ignored)</li><li>E.g. if role attribute is \u201C\
      CN=cn,OU=ou1,OU=ou2\u201D then parsed role value is \u201Ccn\u201D</li></ul></td></tr></table>"
    type: string
  role_attr_from:
    default: role
    description: name of the attribute in SAML Assertion to extract role from
    type: string
  scim_enabled:
    default: false
    description: indicates if SCIM provisioning is enabled for the OAuth IDP
    type: boolean
  scim_secret_token:
    description: scim_secret_token (generated by caller, crypto-random) is used as
      the Bearer token in the Authorization header of SCIM provisioning requests by
      the IDP
    example: secret token
    type: string
  site_id:
    $ref: '../schemas/site_id.yml'
  type:
    type: string
required:
- name
title: Sso
type: object
