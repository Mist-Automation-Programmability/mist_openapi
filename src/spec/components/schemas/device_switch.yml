description: 'Switch Configuration

  You can configure `port_usages` and `networks` settings at the device level, but
  most of the time it''s better use the Site Setting to achieve better consistency
  and be able to re-use the same settings across switches entries defined here will
  "replace" those defined in Site Setting/Network Template'
properties:
  acl_policies:
    items:
      $ref: '../schemas/junos_acl_policies.yml'
    type: array
  acl_tags:
    additionalProperties:
      $ref: '../schemas/junos_acl_tags.yml'
    description: ACL Tags to identify traffic source or destination. Key name is the
      tag name
    properties:
      any:
        description: implicit, cannot override
        properties:
          type:
            default: a
            type: string
        type: object
    type: object
  additional_config_cmds:
    items:
      type: string
    type: array
  created_time:
    readOnly: true
    type: number
  deviceprofile_id:
    format: uuid
    type: string
  dhcp_config:
    $ref: '../schemas/junos_dhcpd.yml'
  dhcp_snooping:
    $ref: '../schemas/junos_dhcp_snooping.yml'
  disable_auto_config:
    default: false
    description: for a claimed switch, we control the configs by default. This option
      (disables the behavior)
    type: boolean
  dns_servers:
    description: Global dns settings. To keep compatibility, dns settings in `ip_config`
      and `oob_ip_config` will overwrite this setting
    items:
      type: string
    type: array
  dns_suffix:
    description: Global dns settings. To keep compatibility, dns settings in `ip_config`
      and `oob_ip_config` will overwrite this setting
    items:
      type: string
    type: array
  evpn_config:
    $ref: '../schemas/junos_evpn_config.yml'
  extra_routes:
    additionalProperties:
      properties:
        discard:
          default: false
          description: this takes precedence
          type: boolean
        metric:
          example: null
          nullable: true
          type: integer
        next_qualified:
          additionalProperties:
            properties:
              metric:
                nullable: true
                type: integer
              preference:
                nullable: true
                type: integer
            type: object
          example:
            10.3.1.1:
              metric: null
              preference: 40
          type: object
        no_resolve:
          default: false
          type: boolean
        preference:
          example: 30
          nullable: true
          type: integer
        via:
          description: next-hop IP Address
          type: string
      type: object
    description: Property key is the network name or a CIDR
    example:
      172.16.3.0/24:
        via: 10.2.1.1
      it_mgmt:
        discard: false
        metric: null
        next_qualified:
          10.3.1.1:
            metric: null
            preference: 40
        no_resolve: false
        preference: 30
        via: 10.2.1.1
      type: object
  id:
    format: uuid
    readOnly: true
    type: string
  image1_url:
    nullable: true
    type: string
  image2_url:
    nullable: true
    type: string
  image3_url:
    nullable: true
    type: string
  ip_config:
    $ref: '../schemas/junos_ip_config.yml'
  managed:
    default: false
    description: "for an adopted switch, we don\u2019t overwrite their existing configs\
      \ automatically"
    type: boolean
  modified_time:
    readOnly: true
    type: number
  name:
    type: string
  networks:
    $ref: '../schemas/junos_networks.yml'
  notes:
    type: string
  ntp_servers:
    description: list of NTP servers specific to this device. By default, those in
      Site Settings will be used
    items:
      type: string
    type: array
  oob_ip_config:
    $ref: '../schemas/junos_oob_ip_config.yml'
  org_id:
    format: uuid
    readOnly: true
    type: string
  ospf_config:
    $ref: '../schemas/junos_ospf_config.yml'
  other_ip_configs:
    additionalProperties:
      $ref: '../schemas/junos_other_ip_configs.yml'
    description: Property key is the network name
    type: object
  port_config:
    additionalProperties:
      $ref: '../schemas/junos_port_config.yml'
    description: Property key is the port name or range (e.g. "ge-0/0/0-10")
    type: object
  port_mirroring:
    properties:
      port_mirror:
        $ref: '../schemas/junos_port_mirror.yml'
    type: object
  port_usages:
    additionalProperties:
      $ref: '../schemas/junos_port_usages.yml'
    description: Property key is the port profile name
    properties:
      dynamic:
        $ref: '../schemas/junos_port_usages_dynamic.yml'
    type: object
  radius_config:
    $ref: '../schemas/junos_radius_config.yml'
  role:
    default: access
    enum:
    - access
    - aggregation
    type: string
  router_id:
    description: used for OSPF / BGP / EVPN
    example: 10.2.1.10
    type: string
  site_id:
    format: uuid
    readOnly: true
    type: string
  switch_mgmt:
    properties:
      config_revert_timer:
        default: 10
        description: rollback timer for commit confirmed
        maximum: 30
        minimum: 1
        type: integer
      protect_re:
        description: "restrict inbound-traffic to host\nwhen enabled, all traffic\
          \ that is not essential to our operation will be dropped \ne.g. ntp / dns\
          \ / traffic to mist will be allowed by default, if dhcpd is enabled, we'll\
          \ make sure it works"
        properties:
          allowed_services:
            description: optionally, services we'll allow
            items:
              example: e
              type: string
            type: array
          custom:
            items:
              properties:
                port_range:
                  default: '0'
                  example: 80,1035-1040
                  type: string
                protocol:
                  default: any
                  enum:
                  - tcp
                  - udp
                  - icmp
                  - any
                  example: tcp
                  type: string
                subnets:
                  items:
                    example: 10.1.2.0/24
                    type: string
                  type: array
              type: object
            type: array
          enabled:
            type: boolean
          trusted_hosts:
            description: optionally, host/subnets we'll allow traffic to/from
            items:
              example: 10.242.3.0/24
              type: string
            type: array
        type: object
      root_password:
        type: string
    type: object
  use_router_id_as_source_ip:
    default: false
    description: whether to use it for snmp / syslog / tacplus / radius
    type: boolean
  vars:
    description: a dictionary of name->value, the vars can then be used in Wlans.
      This can overwrite those from Site Vars
    type: object
  virtual_chassis:
    description: required for preprovisioned Virtual Chassis
    properties:
      members:
        description: list of Virtual Chassis mem
        items:
          properties:
            mac:
              description: fpc0, same as the mac of device_id
              example: aff827549235
              type: string
            vc_role:
              description: Both vc_role master and backup will be matched to routing-engine
                role in Junos preprovisioned VC config
              enum:
              - master
              - linecard
              - backup
              type: string
          type: object
        type: array
      preprovisioned:
        default: false
        description: to configure whether the VC is preprovisioned or nonprovisioned
        type: boolean
    type: object
  vrf_config:
    $ref: '../schemas/junos_vrf_config.yml'
  vrrp_config:
    $ref: '../schemas/junos_vrrp_config.yml'
type: object
