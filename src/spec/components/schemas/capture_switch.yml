description: Initiate a Switch (Junos) Packet Capture
properties:
  duration:
    default: 600
    description: duration of the capture, in seconds
    example: 600
    maximum: 86400
    minimum: 0
    type: integer
  format:
    $ref: '../schemas/capture-switch-format.yml'
  max_pkt_len:
    default: 512
    description: max_len of each packet to capture
    example: 1500
    maximum: 2048
    minimum: 128
    type: integer
  num_packets:
    default: 1024
    description: number of packets to capture, 0 for unlimited
    example: 100
    type: integer
  ports:
    $ref: '../schemas/capture-switch-ports.yml'
  switches:
    additionalProperties:
      $ref: '../schemas/capture-switch-switches-additional-properties.yml'
    description: Property key is the switch mac
    type: object
  tcpdump_expression:
    description: tcpdump expression, port specific if specified under ports dict,
      otherwise applicable across ports if specified at top level of payload. Port
      specific value overrides top level value when both exist.
    example: port 443
    type: string
  type:
    $ref: '../schemas/capture-switch-type.yml'
required:
- type
title: capture_switch
type: object
