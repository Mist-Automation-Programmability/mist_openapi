description: Site MxTunnel
properties:
  additional_mxtunnels:
    additionalProperties:
      properties:
        clusters:
          description: for AP, how to connect to tunterm or radsecproxy
          example:
          - name: primary,
            tunterm_hosts:
            - mxedge1
            - mxedge2.local
          items:
            properties:
              name:
                type: string
              tunterm_hosts:
                items:
                  type: string
                type: array
            type: object
          type: array
        hello_interval:
          default: 60
          description: in seconds, used as heartbeat to detect if a tunnel is alive.
            AP will try another peer after missing N hellos specified by hello_retries
          example: 60
          maximum: 300
          minimum: 1
          type: integer
        hello_retries:
          default: 7
          example: 3
          maximum: 30
          minimum: 2
          type: integer
        protocol:
          enum:
          - ip
          - udp
          example: udp
          type: string
        vlan_ids:
          example:
          - 300
          - 310
          - 320
          items:
            type: integer
          type: array
      type: object
    type: object
  ap_subnets:
    description: list of subnets where we allow AP to establish Mist Tunnels from
    items:
      example: 0.0.0.0/0
      type: string
    type: array
  auto_preemption:
    properties:
      day_of_week:
        $ref: '../schemas/day_of_week.yml'
      enabled:
        default: false
        type: boolean
      time_of_day:
        example: '12:00'
        type: string
    type: object
  clusters:
    description: for AP, how to connect to tunterm or radsecproxy
    example:
    - name: primary,
      tunterm_hosts:
      - mxedge1
      - mxedge2.local
    items:
      properties:
        name:
          type: string
        tunterm_hosts:
          items:
            type: string
          type: array
      type: object
    type: array
  created_time:
    readOnly: true
    type: number
  enabled:
    type: boolean
  for_site:
    readOnly: true
    type: boolean
  hello_interval:
    default: 60
    description: in seconds, used as heartbeat to detect if a tunnel is alive. AP
      will try another peer after missing N hellos specified by hello_retries
    example: 60
    maximum: 300
    minimum: 1
    type: integer
  hello_retries:
    default: 7
    example: 3
    maximum: 30
    minimum: 2
    type: integer
  hosts:
    description: hostnames or IPs where a Mist Tunnel will use as the Peer (i.e. they
      are reachable from AP)
    items:
      type: string
    type: array
  id:
    format: uuid
    readOnly: true
    type: string
  modified_time:
    readOnly: true
    type: number
  mtu:
    default: 0
    description: 0 to enable PMTU, 552-1500 to start PMTU with a lower MTU
    example: 1100
    maximum: 1500
    minimum: 0
    type: integer
  org_id:
    $ref: '../schemas/org_id.yml'
  protocol:
    enum:
    - udp
    - ip
    example: udp
    type: string
  radsec:
    properties:
      acct_servers:
        items:
          $ref: '../schemas/radius_acct_server.yml'
        type: array
      auth_servers:
        items:
          $ref: '../schemas/radius_auth_server.yml'
        type: array
      enabled:
        default: false
        type: boolean
      use_mxedge:
        type: boolean
    type: object
  site_id:
    $ref: '../schemas/site_id.yml'
  vlan_ids:
    description: list of vlan_ids that will be use
    example:
    - 3
    - 5
    - 6
    - 7-9
    items:
      anyOf:
      - type: integer
      - type: string
    type: array
title: Site_Mxtunnel
type: object
