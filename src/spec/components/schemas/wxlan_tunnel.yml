description: WxLAn Tunnel
properties:
  created_time:
    readOnly: true
    type: number
  dmvpn:
    description: Dynamic Multipoint VPN configurations
    properties:
      enabled:
        default: false
        description: whether DMVPN is enabled
        type: boolean
      holding_time:
        description: "optional; the holding time for NHRP \u2018registration requests\u2019\
          \ and \u2018resolution replies\u2019 sent from the Mist AP (in seconds);\
          \ default 600"
        type: integer
      host_routes:
        description: optional; list of IPv4 DMVPN peer host ip-addresses to which
          traffic is forwarded
        items:
          type: string
        type: array
    type: object
  for_mgmt:
    default: false
    description: determined during creation time and cannot be toggled. A management
      tunnel cannot be used by wxlan rule or by wlan
    type: boolean
  for_site:
    readOnly: true
    type: boolean
  hello_interval:
    default: 60
    description: in seconds, used as heartbeat to detect if a tunnel is alive. AP
      will try another peer after missing N hellos specified by hello_retries.
    maximum: 300
    minimum: 1
    type: integer
  hello_retries:
    default: 7
    maximum: 30
    minimum: 2
    type: integer
  hostname:
    description: "optional, overwrite the hostname in SCCRQ control message, default\
      \ is \u201C\u201D or null, %H and %M can be used, which will be replace with\
      \ corresponding values:\n* %H: name of the ap if provided (and will be stripped\
      \ so it can be used for hostname) and fallbacks to MAC\n* %M: MAC (e.g. 5c5b350e0060)"
    type: string
  id:
    format: uuid
    readOnly: true
    type: string
  ipsec:
    description: IPSec-related configurations; requires DMVPN be enabled
    properties:
      enabled:
        default: false
        description: whether ipsec is enabled, requires DMVPN be enabled
        type: boolean
      psk:
        description: ipsec pre-shared key
        type: string
    required:
    - psk
    type: object
  is_static:
    default: false
    description: "whether it\u2019s static/unmanaged (i.e. no control session). As\
      \ the session configurations are not compatible, cannot be toggled."
    type: boolean
  modified_time:
    readOnly: true
    type: number
  mtu:
    default: 0
    description: 0 to enable PMTU, 552-1500 to start PMTU with a lower MTU
    maximum: 1500
    minimum: 0
    type: integer
  name:
    description: The name of the tunnel
    type: string
  org_id:
    $ref: '../schemas/org_id.yml'
  peers:
    description: "list of remote peers\u2019 IP or hostname"
    items:
      type: string
    type: array
  router_id:
    description: "optional, overwrite the router-id in SCCRQ control message, default\
      \ is \u201C0\u201D or null, can also be an IPv4 address"
    type: string
  secret:
    description: "secret, \u2018\u2019 if no auth is used"
    type: string
  sessions:
    description: sessions to be established with the tunnel. Has to be >= 1 in order
      for this tunnel to be useful. For management tunnel, it can only have 1
    items:
      properties:
        ap_as_session_id:
          description: if `use_ap_as_session_ids`==`true`, only apmac is supported
            right now. This is the name WLAN should use for wxtunnel_remote_id
          type: string
        comment:
          description: optional, user-specified string for display purpose
          type: string
        enable_cookie:
          type: boolean
        ethertype:
          enum:
          - ethernet
          - vlan
          type: string
        local_session_id:
          description: 1-4294967295
          maximum: 4294967295
          minimum: 1
          type: integer
        pseudo_802.1ad_enabled:
          default: false
          description: "optional. Enables the pseudo 802.1ad QinQ mode where the AP\
            \ device drops the outer vlan tag (QinQ). This mode is useful when tunneling\
            \ Mist AP\u2019s to some aggregation routers."
          type: boolean
        remote_id:
          description: remote-id of the session, has to be unique in the same tunnel
          type: string
        remote_session_id:
          description: 1-4294967295
          maximum: 4294967295
          minimum: 1
          type: integer
        use_ap_as_session_ids:
          default: false
          description: whether to use AP (last 4 bytes of MAC currently) as session
            ids
          type: boolean
      title: wxlan_tunnel_sessio
      type: object
    minItems: 1
    type: array
    uniqueItems: true
  site_id:
    $ref: '../schemas/site_id.yml'
  udp_port:
    description: udp port if `use_udp`==`true`
    type: integer
  use_udp:
    default: false
    description: whether to use UDP instead of IP (proto=115, which is default of
      L2TPv3)
    type: boolean
required:
- name
title: Wxlan_Tunnel
type: object
